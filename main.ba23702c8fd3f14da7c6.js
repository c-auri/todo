(()=>{"use strict";function t(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(n){t(1,arguments);var r=Object.prototype.toString.call(n);return n instanceof Date||"object"===e(n)&&"[object Date]"===r?new Date(n.getTime()):"number"==typeof n||"[object Number]"===r?new Date(n):("string"!=typeof n&&"[object String]"!==r||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}var r,o;let a=0;class i{constructor(t,e,n=undefined){this.id=void 0===n?++a:n,this.title=t,this.date=e}toJSON(){return{id:this.id,title:this.title,date:this.date.toJSON()}}static fromJSON(t){return JSON.parse(t,function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}(this,r,"m",o))}}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}function l(t){const e=document.querySelector("main"),n=function(t){const e=document.createElement("ul");e.classList.add("mb-3","list-group","list-group-flush"),t.isEmpty||e.classList.add("border-top","border-bottom");for(const n of t.tasks)e.appendChild(u(n));return e}(t),r=function(){const t=document.createElement("dialog");return t.classList.add("border","rounded-4"),t.innerHTML='\n        <form method="dialog" class="container">\n            <div class="mb-3 row">\n                <label class="form-label">\n                    Title\n                    <input type="text" class="form-control" id="new-task__title"></input>\n                </label>\n                <label class="form-label">\n                    Due Date\n                    <input type="date" class="form-control" id="new-task__date"></input>\n                </label>\n            </div>\n            <div class="mb-3">\n                <button class="btn btn-primary" id="new-task__confirm-btn" value="add">Add task</button>\n                <button class="btn btn-outline-secondary">Cancel</button>\n            </div>\n        </form>\n    ',t.addEventListener("close",(()=>function(t){const e=t.querySelector("#new-task__title"),n=t.querySelector("#new-task__date");if("add"===t.returnValue){const t=e.value;t&&function(t){const e=j.getProject();e.add(t),l(e),j.setProject(e)}(new i(t,new Date(n.value)))}e.value="",n.value=""}(t))),t}(),o=function(t){const e=document.createElement("button");return e.id="new-task__btn",e.classList.add("btn"),e.classList.add("btn-primary"),e.innerHTML="Add New Task",e.addEventListener("click",(()=>t.showModal())),e}(r);e.innerHTML="",e.appendChild(n),e.appendChild(r),e.appendChild(o)}function u(e){const r=document.createElement("li");var o;return r.classList.add("list-group-item"),r.setAttribute("data-id",""+e.id),r.innerHTML=`\n        <span class="col">${e.title}</span>\n        <span class="col">${o=e.date,function(e){if(t(1,arguments),!function(e){return t(1,arguments),e instanceof Date||"object"===s(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!=typeof e)return!1;var r=n(e);return!isNaN(Number(r))}(o)?function(e,r){var o,a;t(1,arguments);var i=n(e);if(isNaN(i.getTime()))throw new RangeError("Invalid time value");var s=String(null!==(o=null==r?void 0:r.format)&&void 0!==o?o:"extended"),l=String(null!==(a=null==r?void 0:r.representation)&&void 0!==a?a:"complete");if("extended"!==s&&"basic"!==s)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==l&&"time"!==l&&"complete"!==l)throw new RangeError("representation must be 'date', 'time', or 'complete'");var u="",d="",f="extended"===s?"-":"",m="extended"===s?":":"";if("time"!==l){var p=c(i.getDate(),2),b=c(i.getMonth()+1,2),h=c(i.getFullYear(),4);u="".concat(h).concat(f).concat(b).concat(f).concat(p)}if("date"!==l){var w=i.getTimezoneOffset();if(0!==w){var g=Math.abs(w),y=c(Math.floor(g/60),2),v=c(g%60,2);d="".concat(w<0?"+":"-").concat(y,":").concat(v)}else d="Z";var S=""===u?"":"T",j=[c(i.getHours(),2),c(i.getMinutes(),2),c(i.getSeconds(),2)].join(m);u="".concat(u).concat(S).concat(j).concat(d)}return u}(o):""}</span>\n        <span class="col">\n            <button class="btn btn-light">x</button>\n        </span>\n    `,r.querySelector("button").addEventListener("click",(()=>function(t){const e=j.getProject();e.remove(t),l(e),j.setProject(e)}(e.id))),r}r=i,o=function(e,r){return"date"===e?function(e){if(t(1,arguments),"string"==typeof e){var r=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return r?new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4]-(+r[9]||0)*("-"==r[8]?-1:1),+r[5]-(+r[10]||0)*("-"==r[8]?-1:1),+r[6],+((r[7]||"0")+"00").substring(0,3))):new Date(NaN)}return n(e)}(r):r};var d,f,m,p,b=function(t,e,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,n):o?o.value=n:e.set(t,n),n},h=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};class w{constructor(t,e=[]){f.set(this,void 0),m.set(this,void 0),b(this,f,t,"f"),b(this,m,e,"f")}get title(){return h(this,f,"f")}get tasks(){return h(this,m,"f")}get isEmpty(){return 0===h(this,m,"f").length}add(t){h(this,m,"f").push(t)}remove(t){const e=h(this,m,"f").findIndex((e=>e.id===t));if(-1===e)throw Error("Trying to delete a Task that does not exist in this project.");h(this,m,"f").splice(e,1)}toJSON(){return{title:h(this,f,"f"),tasks:h(this,m,"f")}}static fromJSON(t){return JSON.parse(t,h(this,d,"m",p))}}d=w,f=new WeakMap,m=new WeakMap,p=function(t,e){switch(t){case"":const t=e;return new w(t.title,t.tasks);case"tasks":return e.map((t=>i.fromJSON(JSON.stringify(t))));default:return e}};var g,y,v,S=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};let j;g=new WeakSet,y=function(){return!!localStorage.getItem("currentProject")},v=function(){const t=new w("Inbox");localStorage.setItem("currentProject",JSON.stringify(t))},j=new class{constructor(){g.add(this),S(this,g,"m",y).call(this)||S(this,g,"m",v).call(this)}getProject(){const t=localStorage.getItem("currentProject");return w.fromJSON(t)}setProject(t){localStorage.setItem("currentProject",JSON.stringify(t))}},l(j.getProject())})();