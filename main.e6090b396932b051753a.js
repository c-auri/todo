(()=>{"use strict";function t(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(n){t(1,arguments);var o=Object.prototype.toString.call(n);return n instanceof Date||"object"===e(n)&&"[object Date]"===o?new Date(n.getTime()):"number"==typeof n||"[object Number]"===o?new Date(n):("string"!=typeof n&&"[object String]"!==o||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function o(t,e){return e instanceof Date?e.toJSON():e}function r(e,o){switch(e){case"":return o.map((t=>t));case"date":return function(e){if(t(1,arguments),"string"==typeof e){var o=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return o?new Date(Date.UTC(+o[1],+o[2]-1,+o[3],+o[4]-(+o[9]||0)*("-"==o[8]?-1:1),+o[5]-(+o[10]||0)*("-"==o[8]?-1:1),+o[6],+((o[7]||"0")+"00").substring(0,3))):new Date(NaN)}return n(e)}(o);default:return o}}var s,a,i,c=function(t,e,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(t):o?o.value:e.get(t)};s=new WeakSet,a=function(){return!!localStorage.getItem("tasks")},i=function(t){localStorage.setItem("tasks",JSON.stringify([])),localStorage.setItem("projects",JSON.stringify(t))};const l='<div class="row align-items-start justify-content-between"> <span class="col-1 pt-1"> <input type="checkbox" class="form-check-input"> </span> <div class="col"> <div id="task__title" class="fw-semibold"></div> <div id="task__duedate" class="text-secondary"></div> <div id="task__description" class="mb-3"></div> </div> <span class="col-1 pt-1" id="task__button-group"> <button class="btn btn-light">x</button> </span> </div>';function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function d(e){const o=document.createElement("li");return o.classList.add("list-group-item"),o.setAttribute("data-id",""+e.id),o.innerHTML=l,o.querySelector("#task__title").textContent=e.title,o.querySelector("#task__duedate").textContent=function(e){return function(e){if(t(1,arguments),!function(e){return t(1,arguments),e instanceof Date||"object"===u(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!=typeof e)return!1;var o=n(e);return!isNaN(Number(o))}(e.date)?e.date.toLocaleString([],{year:"2-digit",month:"2-digit",day:"2-digit",hour:(o=e.hasTime)?"2-digit":void 0,minute:o?"2-digit":void 0}):"";var o}(e),o.querySelector("#task__description").textContent=e.description,o.querySelector("button").addEventListener("click",(()=>function(t){const e=_.getTasks(),n=e.findIndex((e=>e.id===t));e.splice(n,1),_.setTasks(e),D()}(e.id))),o}const f='<form method="dialog" class="border p-4 rounded-4"> <div class="mb-3"> <span class="h3 fw-bold">New Task</span> </div> <div class="form-floating mb-3"> <input type="text" class="form-control" id="new-task__title" placeholder="Title"> <label class="form-label" for="new-task__title">Title</label> </div> <div class="input-group"> <span class="form-floating mb-3"> <input type="date" class="form-control" id="new-task__date"> <label class="form-label" for="new-task__date">Due Date</label> </span> <span class="form-floating mb-3"> <input type="time" class="form-control" id="new-task__time"> <label class="form-label" for="new-task__time">Time</label> </span> </div> <div class="form-floating mb-3"> <div clasS="form-floating"></div> <textarea class="form-control" id="new-task__description" placeholder="Description" style="height:8rem"></textarea> <label class="form-label" for="new-task__description">Description</label> </div> <div> <button class="btn btn-success" id="new-task__confirm-btn" value="add">Add task</button> <button class="btn btn-outline-secondary">Cancel</button> </div> </form>';function m(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}const b={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let y;const g=new Uint8Array(16);function h(){if(!y&&(y="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!y))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y(g)}const v=[];for(let t=0;t<256;++t)v.push((t+256).toString(16).slice(1));const w=function(t,e,n){if(b.randomUUID&&!e&&!t)return b.randomUUID();const o=(t=t||{}).random||(t.rng||h)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=o[t];return e}return function(t,e=0){return(v[t[e+0]]+v[t[e+1]]+v[t[e+2]]+v[t[e+3]]+"-"+v[t[e+4]]+v[t[e+5]]+"-"+v[t[e+6]]+v[t[e+7]]+"-"+v[t[e+8]]+v[t[e+9]]+"-"+v[t[e+10]]+v[t[e+11]]+v[t[e+12]]+v[t[e+13]]+v[t[e+14]]+v[t[e+15]]).toLowerCase()}(o)};function S(e){const o=document.createElement("button");o.id="new-task__btn",o.classList.add("btn"),o.classList.add("btn-success"),o.innerHTML="Add&nbsp;New&nbsp;Task",o.type="button";const r=function(e){const o=document.createElement("dialog");return o.innerHTML=f,o.style.width="min(100vw, 28rem)",o.classList.add("border","rounded-4"),o.addEventListener("close",(()=>function(e,o){const r=e.querySelector("#new-task__title"),s=e.querySelector("#new-task__description"),a=e.querySelector("#new-task__date"),i=e.querySelector("#new-task__time");if("add"===e.returnValue){const e=r.value,c=s.value,l=function(e,o){let r=new Date(e);if(o){const[e,s]=o.split(":").map((t=>+t));r=function(e,o){if(t(2,arguments),"object"!==p(o)||null===o)throw new RangeError("values parameter must be an object");var r=n(e);return isNaN(r.getTime())?new Date(NaN):(null!=o.year&&r.setFullYear(o.year),null!=o.month&&(r=function(e,o){t(2,arguments);var r=n(e),s=m(o),a=r.getFullYear(),i=r.getDate(),c=new Date(0);c.setFullYear(a,s,15),c.setHours(0,0,0,0);var l=function(e){t(1,arguments);var o=n(e),r=o.getFullYear(),s=o.getMonth(),a=new Date(0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}(c);return r.setMonth(s,Math.min(i,l)),r}(r,o.month)),null!=o.date&&r.setDate(m(o.date)),null!=o.hours&&r.setHours(m(o.hours)),null!=o.minutes&&r.setMinutes(m(o.minutes)),null!=o.seconds&&r.setSeconds(m(o.seconds)),null!=o.milliseconds&&r.setMilliseconds(m(o.milliseconds)),r)}(r,{hours:e,minutes:s})}return r}(a.value,i.value);e&&function(t){const e=_.getTasks();e.push(t),_.setTasks(e),D()}({id:w(),title:e,project:o,description:c,date:l,hasTime:!!i.value})}r.value="",a.value=""}(o,e))),o}(e);return document.body.appendChild(r),o.addEventListener("click",(()=>r.showModal())),o}let _;const k="Inbox";function D(){(function(t,e){const n=document.querySelector("#menu");n.innerHTML="",n.appendChild(function(t){const e=document.createElement("select");e.classList.add("form-select"),e.id="project-selection",e.style.minWidth="10rem";for(const n of t){const t=document.createElement("option");t.value=n,t.textContent=n,e.appendChild(t)}return e}(t)),n.appendChild(S(e))})(_.getProjects(),k),function(t){const e=document.querySelector("main"),n=function(t){const e=document.createElement("ul");e.classList.add("mb-4","list-group","list-group-flush"),t.length>0&&e.classList.add("border-top","border-bottom");for(const n of t)e.appendChild(d(n));return e}(t);e.innerHTML="",e.appendChild(n)}(_.getTasks(k))}_=new class{constructor(t){s.add(this),c(this,s,"m",a).call(this)||c(this,s,"m",i).call(this,t)}getProjects(){const t=localStorage.getItem("projects");return JSON.parse(t)}getTasks(t=""){const e=(n=localStorage.getItem("tasks"),JSON.parse(n,r));var n;return t?e.filter((e=>e.project===t)):e}setTasks(t){localStorage.setItem("tasks",function(t){return JSON.stringify(t,o)}(t))}}([k]),D()})();